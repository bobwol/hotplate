/*!
 * Module dependencies.
 */

var 
  hotplate = require('hotplate')
, path = require('path')
;

var stores = {};

exports.hotHooks = hooks = {};

hooks.pageElements = function( done ){
  done( null, { moduleName: 'hotCoreStoresVars', result: {
    vars:  [ { name: 'stores', value: stores } ],
  } } );
}


hooks.init = function( done ){
  
  hotplate.invokeAll('stores', function(err, results){
    results.forEach( function(element) {

      for( var k in element){
        stores[k] = element[k];
      }
    });
    done( null );
  });
}
hooks.init.invokes = [ 'stores' ];

hooks.clientPaths = function( done ){
  done( null, { moduleName: 'hotCoreStoresVars', result: [ path.join(__dirname, '../client') ] } );
}



