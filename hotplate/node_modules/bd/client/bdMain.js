


require( [ "hotplate/bd/BookingDojo", 'dijit/registry', 'dojo/topic', 'dojo/ready' ], function( BookingDojo, registry, topic, ready ){

  // Create the new BookingDojo application
  bookingDojo = new BookingDojo( { id: 'bookingDojo', region: 'center'  } );


  setTimeout( function() {  

  var widget;

   if( widget = registry.byId('appContainer') ){
    widget.addChild( bookingDojo );
    console.log("THERE");
  } else {
    console.log("NOT THERE");
    // Once appContainer has started, add a hook to it
    topic.subscribe('hotplate/hotHooks/startup/after/appContainer', function( widget ){
      console.log("ADDED CHILD");
      widget.addChild( bookingDojo );
    });

  }

  }, 2000 );

});

