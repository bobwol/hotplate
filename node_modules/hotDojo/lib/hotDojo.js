var 
  hotplate =  require('hotplate')
, path = require('path')
;

exports.hotHooks = hooks = {}

hooks.run = function( done ){
  done( null );
}


hooks.pageElements = function( done ){

  done( null, { moduleName: 'hotDojo', result:{
    headLines: [ 
      // '<script data-dojo-config="async: 1, dojoBlankHtmlUrl: \'/blank.html\', packages: [ { name: \'hotplate\', location: location.pathname.replace(/\\/[^/]+$/, \'\') + \'/hotplate\' } ]" src="//ajax.googleapis.com/ajax/libs/dojo/1.8.1/dojo/dojo.js"></script>',

      //"<script data-dojo-config=\"async: 1, dojoBlankHtmlUrl: '/blank.html', packages: [ { name: 'hotplate', location: location.pathname.replace(/\\/[^/]+$/, '') + '/hotplate' } ]\" src=\"//ajax.googleapis.com/ajax/libs/dojo/1.8.1/dojo/dojo.js\"></script>",
     
      //"<script data-dojo-config=\"async: 1, baseUrl: '//', dojoBlankHtmlUrl: '/blank.html', packages: [ { name: 'hotplate', location: '" + hotplate.get( 'staticUrlPath' )+ "' } ]\" src=\"//ajax.googleapis.com/ajax/libs/dojo/1.8.1/dojo/dojo.js\"></script>",
      "<script data-dojo-config=\"async: 1, baseUrl: '//', dojoBlankHtmlUrl: '/blank.html'\", src=\"//ajax.googleapis.com/ajax/libs/dojo/1.8.1/dojo/dojo.js\"></script>",


      //'<link type="text/css" rel="stylesheet" href="/dojo/dijit/themes/claro/claro.css" media="screen" />',
      //'<script type="text/javascript" src="/dojo/dojo/dojo.js" data-dojo-config="parseOnLoad: false, async:true,isDebug:false, cacheBust:false"></script>',
       '<link type="text/css" rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/dojo/1.8.3/dijit/themes/claro/claro.css" media="screen" />',

      //'<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/dojo/1.8.3/dojo/dojo.js" data-dojo-config="parseOnLoad: false, async:true,isDebug:false, cacheBust:false"></script>',

      //'<script>var dojoConfig= { async: true,   packages: [ { name: "hotplate", location: "/hotplate" }] }; </script>' // location.pathname.replace(/\/[^/]*$/, "") }] } </script>'
    ],

  } } );
}

// Simply activate path to client files
hooks.clientPaths = function( done ){
  done( null, { moduleName: 'hotDojo', result: [ path.join(__dirname, '../client') ] } );
}


