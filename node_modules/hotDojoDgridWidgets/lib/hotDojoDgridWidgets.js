var 
  dummy

, hotplate =  require('hotplate')
, path = require('path')

;


exports.hotHooks = hooks = {}

hooks.enrichDojoConf = function( conf, done ){

  var p = path.join( hotplate.get( 'staticUrlPath' ), 'hotDojoDgridWidgets' );

  conf.dojoConfig.packages.push( { name: 'dgrid', location: path.join( p, 'dgrid') } );
  conf.dojoConfig.packages.push( { name: 'put-selector', location: path.join( p, 'put-selector') } );
  conf.dojoConfig.packages.push( { name: 'xstyle', location: path.join( p, 'xstyle' ) } );

  done( null );
}


hooks.pageElements = function( done ){
//hooks.pageElementsPerPage = function( elements, req, pageName, done ){

  /*
  console.log("In pageElements:");
  console.log( arguments );
  console.log( elements );
  console.log( req );
  console.log( pageName );
  console.log( done );
  console.log('----------');
  */  


      var theme;
      if( ! ( theme = hotplate.get('dgrid-theme' ) ) ) theme = 'claro';

      // Sending the page out
      done( null, {
        moduleName: 'hotDojoDgridWidgets', result: {
          csses: ['dgrid/css/skins/' + theme + '.css', 'EditableList.css', 'StoreSelect.css' ],
        }
      });
}


// Simply activate path to client files
hooks.clientPaths = function( done ){
  done( null, { moduleName: 'hotDojoDgridWidgets', result: [ path.join(__dirname, '../client') ] } );
}
    

