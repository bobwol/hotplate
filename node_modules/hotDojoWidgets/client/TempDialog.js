define( ['dojo/_base/declare', 'dijit/form/Button', 'dijit/Dialog'], function( declare, Button, Dialog ){

  return declare( [ Dialog ], {

    startup: function(){
      this.inherited(arguments);
      this.show();
    },

    // Hiding this widget will destroy it. This widget is good for disposable dialogs
    hide: function(){

      var self = this;
      var p = self.inherited(arguments);

      // Attach a new callback triggered when the animation is over:
      // the callback will destroy the widget
      p.then( function(){
        self.destroyRecursive();
      });

    },

  });

});

